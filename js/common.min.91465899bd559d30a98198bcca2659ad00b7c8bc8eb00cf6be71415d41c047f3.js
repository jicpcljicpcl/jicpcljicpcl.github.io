document.addEventListener("DOMContentLoaded",function(){"use strict";const n=document.querySelector("html"),d=document.querySelector(".global-wrap"),r=document.querySelector("body"),s=document.querySelector(".hamburger"),a=document.querySelector(".main-nav"),x=document.querySelector(".search-button"),f=document.querySelector(".icon__search__close"),O=document.querySelector(".search__overlay"),_=document.querySelector(".search__text"),l=document.querySelector(".search"),t=document.querySelector(".toggle-theme"),y=document.querySelector(".top"),b=new URLSearchParams(window.location.search),v=b.get("theme");v==="dark"?m():h(),s.addEventListener("click",()=>{g()}),x.addEventListener("click",()=>{p()}),f.addEventListener("click",()=>{i()}),O.addEventListener("click",()=>{i()});function g(){s.classList.toggle("is-open"),a.classList.toggle("is-visible")}function p(){l.classList.add("is-visible"),r.classList.add("search-is-visible"),d.classList.add("is-active"),s.classList.remove("is-open"),a.classList.remove("is-visible"),setTimeout(function(){_.focus()},250)}function i(){l.classList.remove("is-visible"),r.classList.remove("search-is-visible"),d.classList.remove("is-active")}document.addEventListener("keydown",function(e){e.key=="Escape"&&i()}),t&&t.addEventListener("click",()=>{j()});function m(){n.classList.add("dark-mode"),localStorage.setItem("theme","dark"),document.documentElement.setAttribute("dark","")}function h(){n.classList.remove("dark-mode"),localStorage.removeItem("theme"),document.documentElement.removeAttribute("dark")}function j(){n.classList.contains("dark-mode")?h():m()}let u;t&&t.addEventListener("click",()=>{c()}),window.addEventListener("resize",()=>{c()});function c(){document.body.classList.add("disable-animation"),clearTimeout(u),u=setTimeout(()=>{document.body.classList.remove("disable-animation")},100)}reframe(".post__content iframe:not(.reframe-off), .page__content iframe:not(.reframe-off)");var o,C=new LazyLoad({elements_selector:".lazy"});const w=document.querySelector(".page__content img, .post__content img, .gallery__image img"),e=document.querySelectorAll(".page__content a img, .post__content a img, .gallery__image a img");if(e){for(const t=0;t<e.length;t++)e[t].parentNode.classList.add("image-link");for(const t=0;t<e.length;t++)e[t].classList.add("no-lightense")}w&&Lightense(".page__content img:not(.no-lightense), .post__content img:not(.no-lightense), .gallery__image img:not(.no-lightense)",{padding:60,offset:30}),o=document.querySelector(".load-more-posts"),o&&o.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(".pagination"),e=pagination_next_url.split("/page")[0]+"/page/"+pagination_next_page_number+"/";fetch(e).then(function(e){if(e.ok)return e.text()}).then(function(e){n=document.createElement("div"),n.innerHTML=e;for(var n,i=document.querySelector(".grid"),o=n.querySelectorAll(".article--grid"),s=0;s<o.length;s++)i.appendChild(o.item(s));new LazyLoad({elements_selector:".lazy"}),pagination_next_page_number++,pagination_next_page_number>pagination_available_pages_number&&(t.style.display="none")})}),y.addEventListener("click",function(){window.scrollY!=0&&window.scrollTo({top:0,left:0,behavior:"smooth"})})})